#!/usr/bin/env sh

# Install plug.vim and plugins
if [ ! -e "$HOME/.vim/autoload/plug.vim" ]; then
  curl -fLo "$HOME/.vim/autoload/plug.vim" --create-dirs \
    https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
fi

# NOTE: If we don't pipe this dummy file in, along with the `-` at the end, vim
#       displays a warning about input not being from a terminal, and then
#       breaks the terminal once it exits.
echo 'foo' | vim -u "$HOME/.vim/vimrc.plugins" +PlugInstall '+qa!' -

test -e "$HOME/.env-specific/post-up" && "$HOME/.env-specific/post-up"
